{
  "name": "French Language Redirect",
  "description": "Automatically redirect French-speaking users to /fr/ version",
  "enabled": true,
  "expression": "(http.request.accepted_languages[0] contains \"fr\") and not starts_with(http.request.uri.path, \"/fr\")",
  "action": "redirect",
  "action_parameters": {
    "from_value": {
      "status_code": 302,
      "target_url": {
        "expression": "concat(\"/fr\", http.request.uri.path)"
      },
      "preserve_query_string": true
    }
  },
  "priority": 1
}
